<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Intro of NumPy and Pandas for Data Analysis - Pieces of Data Science</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="https://byrony.github.io/intro-of-numpy-and-pandas-for-data-analysis.html">

        <meta name="author" content="Vincent Cao" />
        <meta name="keywords" content="Python,Data Analysis" />
        <meta name="description" content="This is an introduction of using NumPy and Pandas based on the course Intro to Data Analysis on Udacity. It includes NumPy and Pandas data structures, basic operations and functions with code examples.. I learnt a lot from this course and shared this notes for your reference. Table of Contents¶1 1. Data Analysis Process" />

        <meta property="og:site_name" content="Pieces of Data Science" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Intro of NumPy and Pandas for Data Analysis"/>
        <meta property="og:url" content="https://byrony.github.io/intro-of-numpy-and-pandas-for-data-analysis.html"/>
        <meta property="og:description" content="This is an introduction of using NumPy and Pandas based on the course Intro to Data Analysis on Udacity. It includes NumPy and Pandas data structures, basic operations and functions with code examples.. I learnt a lot from this course and shared this notes for your reference. Table of Contents¶1 1. Data Analysis Process"/>
        <meta property="article:published_time" content="2016-10-18" />
            <meta property="article:section" content="Data Analysis" />
            <meta property="article:tag" content="Python" />
            <meta property="article:tag" content="Data Analysis" />
            <meta property="article:author" content="Vincent Cao" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://byrony.github.io/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="https://byrony.github.io/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://byrony.github.io/theme/css/pygments/default.css" rel="stylesheet">
    <link rel="stylesheet" href="https://byrony.github.io/theme/css/style.css" type="text/css"/>

        <link href="https://byrony.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Pieces of Data Science ATOM Feed"/>



        <link href="https://byrony.github.io/feeds/data-analysis.atom.xml" type="application/atom+xml" rel="alternate"
              title="Pieces of Data Science Data Analysis ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://byrony.github.io/" class="navbar-brand">
Pieces of Data Science            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li >
                            <a href="https://byrony.github.io/category/about-me.html">About me</a>
                        </li>
                        <li class="active">
                            <a href="https://byrony.github.io/category/data-analysis.html">Data analysis</a>
                        </li>
                        <li >
                            <a href="https://byrony.github.io/category/mini-project.html">Mini project</a>
                        </li>
                        <li >
                            <a href="https://byrony.github.io/category/r.html">R</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="https://byrony.github.io/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://byrony.github.io/intro-of-numpy-and-pandas-for-data-analysis.html"
                       rel="bookmark"
                       title="Permalink to Intro of NumPy and Pandas for Data Analysis">
                        Intro of NumPy and Pandas for Data Analysis
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2016-10-18T20:00:00-04:00"> Tue 18 October 2016</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="https://byrony.github.io/tag/python.html">Python</a>
        /
	<a href="https://byrony.github.io/tag/data-analysis.html">Data Analysis</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <style type="text/css">/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
@-moz-document url-prefix() {
  div.inner_cell {
    overflow-x: hidden;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell > div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area > div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area > div.highlight > pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the <head> if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell > div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
</style>
<style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */</style>
<style type="text/css">
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
</style>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><center><img ,="" height="100" src="./figure/python-numpy-scipy.png" /></center>
<br><br><br><br><br>
This is an introduction of using <code>NumPy</code> and <code>Pandas</code> based on the course <a href="https://www.udacity.com/course/intro-to-data-analysis--ud170"><code>Intro to Data Analysis</code></a> on Udacity. It includes <code>NumPy</code> and <code>Pandas</code> data structures, basic operations and functions with code examples.. I learnt a lot from this course and shared this notes for your reference.</br></br></br></br></br></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Table-of-Contents">Table of Contents<a class="anchor-link" href="#Table-of-Contents">¶</a></h1><p><p><div class="lev1 toc-item"><a data-toc-modified-id="1.-Data-Analysis-Process-1" href="#1.-Data-Analysis-Process"><span class="toc-item-num">1  </span>1. Data Analysis Process</a></div><div class="lev2 toc-item"><a data-toc-modified-id="Introduction-1.1" href="#Introduction"><span class="toc-item-num">1.1  </span>Introduction</a></div><div class="lev1 toc-item"><a data-toc-modified-id="2.-NumPy-and-Pandas-for-1D-Data-2" href="#2.-NumPy-and-Pandas-for-1D-Data"><span class="toc-item-num">2  </span>2. NumPy and Pandas for 1D Data</a></div><div class="lev2 toc-item"><a data-toc-modified-id="One-dimensional-data-structures-2.1" href="#One-dimensional-data-structures"><span class="toc-item-num">2.1  </span>One-dimensional data structures</a></div><div class="lev2 toc-item"><a data-toc-modified-id="Numpy-array-2.2" href="#Numpy-array"><span class="toc-item-num">2.2  </span>Numpy array</a></div><div class="lev2 toc-item"><a data-toc-modified-id="Vectorized-Operations-2.3" href="#Vectorized-Operations"><span class="toc-item-num">2.3  </span>Vectorized Operations</a></div><div class="lev2 toc-item"><a data-toc-modified-id="NumPy-index-arrays-2.4" href="#NumPy-index-arrays"><span class="toc-item-num">2.4  </span>NumPy index arrays</a></div><div class="lev2 toc-item"><a data-toc-modified-id="+-vs.-+=-2.5" href="#+-vs.-+="><span class="toc-item-num">2.5  </span>+ vs. +=</a></div><div class="lev2 toc-item"><a data-toc-modified-id="In-Place-vs.-Not-In-Place-2.6" href="#In-Place-vs.-Not-In-Place"><span class="toc-item-num">2.6  </span>In-Place vs. Not In-Place</a></div><div class="lev2 toc-item"><a data-toc-modified-id="Pandas-Series-2.7" href="#Pandas-Series"><span class="toc-item-num">2.7  </span>Pandas Series</a></div><div class="lev2 toc-item"><a data-toc-modified-id="Series-index-2.8" href="#Series-index"><span class="toc-item-num">2.8  </span>Series index</a></div><div class="lev2 toc-item"><a data-toc-modified-id="Vectorized-Operations-and-Series-Indexes-2.9" href="#Vectorized-Operations-and-Series-Indexes"><span class="toc-item-num">2.9  </span>Vectorized Operations and Series Indexes</a></div><div class="lev2 toc-item"><a data-toc-modified-id="Pandas-Series-apply().-2.10" href="#Pandas-Series-apply()."><span class="toc-item-num">2.10  </span>Pandas Series <code>apply()</code>.</a></div><div class="lev2 toc-item"><a data-toc-modified-id="Plotting-in-Pandas-2.11" href="#Plotting-in-Pandas"><span class="toc-item-num">2.11  </span>Plotting in Pandas</a></div><div class="lev1 toc-item"><a data-toc-modified-id="3.-NumPy-and-Pandas-for-2D-Data-3" href="#3.-NumPy-and-Pandas-for-2D-Data"><span class="toc-item-num">3  </span>3. NumPy and Pandas for 2D Data</a></div><div class="lev2 toc-item"><a data-toc-modified-id="Two-dimensional-data:-3.1" href="#Two-dimensional-data:"><span class="toc-item-num">3.1  </span>Two-dimensional data:</a></div><div class="lev2 toc-item"><a data-toc-modified-id="NumPy-Axis-3.2" href="#NumPy-Axis"><span class="toc-item-num">3.2  </span>NumPy Axis</a></div><div class="lev2 toc-item"><a data-toc-modified-id="NumPy-and-Pandas-Data-Types-3.3" href="#NumPy-and-Pandas-Data-Types"><span class="toc-item-num">3.3  </span>NumPy and Pandas Data Types</a></div><div class="lev2 toc-item"><a data-toc-modified-id="Access-Elements-of-DataFrame-3.4" href="#Access-Elements-of-DataFrame"><span class="toc-item-num">3.4  </span>Access Elements of DataFrame</a></div><div class="lev2 toc-item"><a data-toc-modified-id="Loading-Data-into-a-DataFrame-3.5" href="#Loading-Data-into-a-DataFrame"><span class="toc-item-num">3.5  </span>Loading Data into a DataFrame</a></div><div class="lev2 toc-item"><a data-toc-modified-id="Pandas-Axis-Name-3.6" href="#Pandas-Axis-Name"><span class="toc-item-num">3.6  </span>Pandas Axis Name</a></div><div class="lev2 toc-item"><a data-toc-modified-id="DataFrame-Vectorized-Operations-3.7" href="#DataFrame-Vectorized-Operations"><span class="toc-item-num">3.7  </span>DataFrame Vectorized Operations</a></div><div class="lev2 toc-item"><a data-toc-modified-id="DataFrame-applymap()-and-apply()-3.8" href="#DataFrame-applymap()-and-apply()"><span class="toc-item-num">3.8  </span>DataFrame applymap() and apply()</a></div><div class="lev2 toc-item"><a data-toc-modified-id="Adding-a-DataFrame-to-a-Series-3.9" href="#Adding-a-DataFrame-to-a-Series"><span class="toc-item-num">3.9  </span>Adding a DataFrame to a Series</a></div><div class="lev2 toc-item"><a data-toc-modified-id="Standardize-Columns-and-Rows-via-Vectorized-Operation-3.10" href="#Standardize-Columns-and-Rows-via-Vectorized-Operation"><span class="toc-item-num">3.10  </span>Standardize Columns and Rows via Vectorized Operation</a></div><div class="lev2 toc-item"><a data-toc-modified-id="Pandas-groupby()-3.11" href="#Pandas-groupby()"><span class="toc-item-num">3.11  </span>Pandas <code>groupby()</code></a></div><div class="lev2 toc-item"><a data-toc-modified-id="Combining-Pandas-DataFrame-3.12" href="#Combining-Pandas-DataFrame"><span class="toc-item-num">3.12  </span>Combining Pandas DataFrame</a></div></p>
</p></div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="1.-Data-Analysis-Process">1. Data Analysis Process<a class="anchor-link" href="#1.-Data-Analysis-Process">¶</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Introduction">Introduction<a class="anchor-link" href="#Introduction">¶</a></h3><ul>
<li>Question<ul>
<li>Characteristics of students who pass projects</li>
<li>How to stock my store with the products people most want to buy</li>
</ul>
</li>
<li>Wrangling<ul>
<li>Data acquisition</li>
<li>Data cleaning</li>
</ul>
</li>
<li><p>Explore</p>
<ul>
<li>Build intuition</li>
<li>Find patterns</li>
</ul>
</li>
<li><p>Draw conclusion/or make prediction</p>
<ul>
<li>Predict: Which movies users will like</li>
<li>Conclude: Users are less likely to click certain articles</li>
<li>Usually requres statistics or machine learning</li>
</ul>
</li>
<li>Communication<ul>
<li>Blog, paper, email, powerpoint, etc</li>
<li>Data visualization</li>
</ul>
</li>
</ul>
<p>Data wrangling phase is very interwined with data explore phase. Data acquisition actually comes before you pose a question.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="2.-NumPy-and-Pandas-for-1D-Data">2. NumPy and Pandas for 1D Data<a class="anchor-link" href="#2.-NumPy-and-Pandas-for-1D-Data">¶</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># read csv via pandas</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'gdp_per_capita.csv'</span><span class="p">)</span>

<span class="c1"># check the unique items in a column</span>
<span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">'Country'</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[2]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>275</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="One-dimensional-data-structures">One-dimensional data structures<a class="anchor-link" href="#One-dimensional-data-structures">¶</a></h3><ul>
<li>Numpy (Numerical Python)<ul>
<li>Array. </li>
</ul>
</li>
<li>Pandas<ul>
<li>Series. Built on Array of Numpy, with more features.</li>
</ul>
</li>
</ul>
<h3 id="Numpy-array">Numpy array<a class="anchor-link" href="#Numpy-array">¶</a></h3><ul>
<li>Similarities between Numpy arrays and Python lists.<ul>
<li>Access elements by position. <code>a[0]</code></li>
<li>Access a range of elements. <code>a[0:3]</code> (note upper bound is not inclusive)</li>
<li>Use loops. <code>for x in a:</code></li>
</ul>
</li>
<li>Differences between Numpy arrays and Python lists.<ul>
<li>For Numpy, each elements should have same type (string, int, boolean, etc). For python list, you can put them together.</li>
<li>Numpy has convenient functions. <code>mean()</code>, <code>std()</code>. List also has similar functions, but Numpy is faster.</li>
<li>Numpy can be multi-dimensional, similar to list of list in python.</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># First 20 countries with employment data</span>
<span class="n">countries</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
    <span class="s1">'Afghanistan'</span><span class="p">,</span> <span class="s1">'Albania'</span><span class="p">,</span> <span class="s1">'Algeria'</span><span class="p">,</span> <span class="s1">'Angola'</span><span class="p">,</span> <span class="s1">'Argentina'</span><span class="p">,</span>
    <span class="s1">'Armenia'</span><span class="p">,</span> <span class="s1">'Australia'</span><span class="p">,</span> <span class="s1">'Austria'</span><span class="p">,</span> <span class="s1">'Azerbaijan'</span><span class="p">,</span> <span class="s1">'Bahamas'</span><span class="p">,</span>
    <span class="s1">'Bahrain'</span><span class="p">,</span> <span class="s1">'Bangladesh'</span><span class="p">,</span> <span class="s1">'Barbados'</span><span class="p">,</span> <span class="s1">'Belarus'</span><span class="p">,</span> <span class="s1">'Belgium'</span><span class="p">,</span>
    <span class="s1">'Belize'</span><span class="p">,</span> <span class="s1">'Benin'</span><span class="p">,</span> <span class="s1">'Bhutan'</span><span class="p">,</span> <span class="s1">'Bolivia'</span><span class="p">,</span>
    <span class="s1">'Bosnia and Herzegovina'</span>
<span class="p">])</span>

<span class="c1"># Employment data in 2007 for those 20 countries</span>
<span class="n">employment</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
    <span class="mf">55.70000076</span><span class="p">,</span>  <span class="mf">51.40000153</span><span class="p">,</span>  <span class="mf">50.5</span>       <span class="p">,</span>  <span class="mf">75.69999695</span><span class="p">,</span>
    <span class="mf">58.40000153</span><span class="p">,</span>  <span class="mf">40.09999847</span><span class="p">,</span>  <span class="mf">61.5</span>       <span class="p">,</span>  <span class="mf">57.09999847</span><span class="p">,</span>
    <span class="mf">60.90000153</span><span class="p">,</span>  <span class="mf">66.59999847</span><span class="p">,</span>  <span class="mf">60.40000153</span><span class="p">,</span>  <span class="mf">68.09999847</span><span class="p">,</span>
    <span class="mf">66.90000153</span><span class="p">,</span>  <span class="mf">53.40000153</span><span class="p">,</span>  <span class="mf">48.59999847</span><span class="p">,</span>  <span class="mf">56.79999924</span><span class="p">,</span>
    <span class="mf">71.59999847</span><span class="p">,</span>  <span class="mf">58.40000153</span><span class="p">,</span>  <span class="mf">70.40000153</span><span class="p">,</span>  <span class="mf">41.20000076</span>
<span class="p">])</span>

<span class="c1"># try different expressions, access element and slicing</span>
<span class="nb">print</span><span class="p">(</span><span class="n">countries</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">countries</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">countries</span><span class="p">[:</span><span class="mi">2</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">countries</span><span class="p">[:])</span>

<span class="c1"># elements type</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">countries</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">employment</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>

<span class="c1"># looping</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="n">country</span> <span class="o">=</span> <span class="n">countries</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">country_employment</span> <span class="o">=</span> <span class="n">employment</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'Country </span><span class="si">{}</span><span class="s1"> has employment </span><span class="si">{}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">country</span><span class="p">,</span> <span class="n">country_employment</span><span class="p">))</span>

<span class="c1"># Numpy functions. np.argmax() returns the index of maximum</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">employment</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">employment</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="n">employment</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">employment</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">employment</span><span class="o">.</span><span class="n">argmax</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Afghanistan
['Afghanistan' 'Albania' 'Algeria']
['Afghanistan' 'Albania']
['Afghanistan' 'Albania' 'Algeria' 'Angola' 'Argentina' 'Armenia'
 'Australia' 'Austria' 'Azerbaijan' 'Bahamas' 'Bahrain' 'Bangladesh'
 'Barbados' 'Belarus' 'Belgium' 'Belize' 'Benin' 'Bhutan' 'Bolivia'
 'Bosnia and Herzegovina']
----------------------------------------------------------------------------------------------------
<u22 float64 ---------------------------------------------------------------------------------------------------- country afghanistan has employment 55.70000076 country albania has employment 51.40000153 country algeria has employment 50.5 ---------------------------------------------------------------------------------------------------- 58.6850000385 9.33826911369 75.69999695 1173.70000077 3 &lt; pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Vectorized-Operations">Vectorized Operations<a class="anchor-link" href="#Vectorized-Operations">¶</a></h3><p>A vector is a list of elements.</p>
<ul>
<li>Vector addition. </li>
<li>Multiplying by a scalar</li>
<li>More vectorized operations. <ul>
<li>Math operation: <code>+, -, *, /, **</code>, </li>
<li>Logical operations: <code>And:&, Or:|, Not:~</code>. Only valid for boolean. If use it on integers, then it's bitwise operation.</li>
<li>Comparison operations: <code>>, >=, <=, <, ==, !=</code>. </li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># vector addition, linear algebra</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="p">)</span>

<span class="c1"># list concatenation, note the difference of python list</span>
<span class="nb">print</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>

<span class="c1"># multiplying by a scalar</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)</span>

<span class="c1"># in python list</span>
<span class="nb">print</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span><span class="o">*</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># arthmetic operations between a Numpy array and a single number</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># logical operations with Numpy arrays</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">&</span> <span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="o">~</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">&</span> <span class="kc">False</span><span class="p">)</span>

<span class="c1"># comparison operations between 2 NumPy arrays</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">></span> <span class="n">b</span><span class="p">)</span>

<span class="c1"># comparison operations between a Numpy array and a single number</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">></span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[5 7 9]
[ 4 10 18]
[1, 2, 3, 4, 5, 6]
[3 6 9]
[1, 2, 3, 1, 2, 3, 1, 2, 3]
[6 7 8]
----------------------------------------------------------------------------------------------------
[ True False False False]
[False False  True  True]
[False False False False]
----------------------------------------------------------------------------------------------------
[False False False  True  True]
[False False  True  True  True]
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="NumPy-index-arrays">NumPy index arrays<a class="anchor-link" href="#NumPy-index-arrays">¶</a></h3><p>An array of booleans can be a index array.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># using index arrays</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">b</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">a</span><span class="o">></span><span class="mi">2</span><span class="p">])</span>

<span class="c1"># creating the index array using vectorized operations</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">></span><span class="mi">2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>

<span class="c1"># array of booleans can be used with numpy functions</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[1 2]
[3 4]
[False False  True  True]
0.5
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="+-vs.-+=">+ vs. +=<a class="anchor-link" href="#+-vs.-+=">¶</a></h3><p><code>+=</code> operates in-place while <code>+</code> does not. That is, <code>+=</code> stores all the values in the same place as the original values rather than creating a new array.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># case 1: both a and b refer to the same array</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span>
<span class="n">a</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>

<span class="c1"># case 2: both a and b refer to the same array, but later a is reassigned, which creates a new array. </span>
<span class="c1"># Then a refers to a new array while b refers to the original array</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[2 3 4]
[1 2 3]
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="In-Place-vs.-Not-In-Place">In-Place vs. Not In-Place<a class="anchor-link" href="#In-Place-vs.-Not-In-Place">¶</a></h3><p>When taking a slice, numpy doesn't create a new array. Instead it refers to a what's called a view of the original array. If the slice is modified, then the original array is modified as well. So slice in numpy is very fast.</p>
<p>Note this is different from python list.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [7]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>

<span class="c1"># take a slice, numpy doesn't create a new array. It</span>
<span class="n">Slice</span> <span class="o">=</span> <span class="n">a</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>
<span class="n">Slice</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

<span class="c1"># try python list</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
<span class="n">Slice</span> <span class="o">=</span> <span class="n">a</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>
<span class="n">Slice</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[10  2  3  4]
[1, 2, 3, 4]
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Pandas-Series">Pandas Series<a class="anchor-link" href="#Pandas-Series">¶</a></h3><p>Similar to numpy array, but it has more extra functionality. e.g. <code>s.describe()</code>
Similarities:</p>
<pre><code>- Accessing elements, `s[0]`, `s[3:7]`
- Looping `for x in s`.
- Convenient functions. `s.mean()`, `s.max()`.
- Vectorized operations. `s1 + s2`
- Implemented in C, fast.</code></pre>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">countries</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Albania'</span><span class="p">,</span> <span class="s1">'Algeria'</span><span class="p">,</span> <span class="s1">'Andorra'</span><span class="p">,</span> <span class="s1">'Angola'</span><span class="p">,</span> <span class="s1">'Antigua and Barbuda'</span><span class="p">,</span>
             <span class="s1">'Argentina'</span><span class="p">,</span> <span class="s1">'Armenia'</span><span class="p">,</span> <span class="s1">'Australia'</span><span class="p">,</span> <span class="s1">'Austria'</span><span class="p">,</span> <span class="s1">'Azerbaijan'</span><span class="p">,</span>
             <span class="s1">'Bahamas'</span><span class="p">,</span> <span class="s1">'Bahrain'</span><span class="p">,</span> <span class="s1">'Bangladesh'</span><span class="p">,</span> <span class="s1">'Barbados'</span><span class="p">,</span> <span class="s1">'Belarus'</span><span class="p">,</span>
             <span class="s1">'Belgium'</span><span class="p">,</span> <span class="s1">'Belize'</span><span class="p">,</span> <span class="s1">'Benin'</span><span class="p">,</span> <span class="s1">'Bhutan'</span><span class="p">,</span> <span class="s1">'Bolivia'</span><span class="p">]</span>

<span class="n">life_expectancy_values</span> <span class="o">=</span> <span class="p">[</span><span class="mf">74.7</span><span class="p">,</span>  <span class="mf">75.</span> <span class="p">,</span>  <span class="mf">83.4</span><span class="p">,</span>  <span class="mf">57.6</span><span class="p">,</span>  <span class="mf">74.6</span><span class="p">,</span>  <span class="mf">75.4</span><span class="p">,</span>  <span class="mf">72.3</span><span class="p">,</span>  <span class="mf">81.5</span><span class="p">,</span>  <span class="mf">80.2</span><span class="p">,</span>
                          <span class="mf">70.3</span><span class="p">,</span>  <span class="mf">72.1</span><span class="p">,</span>  <span class="mf">76.4</span><span class="p">,</span>  <span class="mf">68.1</span><span class="p">,</span>  <span class="mf">75.2</span><span class="p">,</span>  <span class="mf">69.8</span><span class="p">,</span>  <span class="mf">79.4</span><span class="p">,</span>  <span class="mf">70.8</span><span class="p">,</span>  <span class="mf">62.7</span><span class="p">,</span>
                          <span class="mf">67.3</span><span class="p">,</span>  <span class="mf">70.6</span><span class="p">]</span>

<span class="n">gdp_values</span> <span class="o">=</span> <span class="p">[</span> <span class="mf">1681.61390973</span><span class="p">,</span>   <span class="mf">2155.48523109</span><span class="p">,</span>  <span class="mf">21495.80508273</span><span class="p">,</span>    <span class="mf">562.98768478</span><span class="p">,</span>
              <span class="mf">13495.1274663</span> <span class="p">,</span>   <span class="mf">9388.68852258</span><span class="p">,</span>   <span class="mf">1424.19056199</span><span class="p">,</span>  <span class="mf">24765.54890176</span><span class="p">,</span>
              <span class="mf">27036.48733192</span><span class="p">,</span>   <span class="mf">1945.63754911</span><span class="p">,</span>  <span class="mf">21721.61840978</span><span class="p">,</span>  <span class="mf">13373.21993972</span><span class="p">,</span>
                <span class="mf">483.97086804</span><span class="p">,</span>   <span class="mf">9783.98417323</span><span class="p">,</span>   <span class="mf">2253.46411147</span><span class="p">,</span>  <span class="mf">25034.66692293</span><span class="p">,</span>
               <span class="mf">3680.91642923</span><span class="p">,</span>    <span class="mf">366.04496652</span><span class="p">,</span>   <span class="mf">1175.92638695</span><span class="p">,</span>   <span class="mf">1132.21387981</span><span class="p">]</span>

<span class="c1"># Life expectancy and gdp data in 2007 for 20 countries</span>
<span class="n">life_expectancy</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">life_expectancy_values</span><span class="p">)</span>
<span class="n">gdp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">gdp_values</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [9]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># pandas accessing elements and slicing</span>
<span class="nb">print</span><span class="p">(</span><span class="n">life_expectancy</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">gdp</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">])</span>

<span class="c1"># panda looping</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="k">for</span> <span class="n">country_life_expectancy</span> <span class="ow">in</span> <span class="n">life_expectancy</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'Examining life expectancy </span><span class="si">{}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">country_life_expectancy</span><span class="p">))</span>

<span class="c1"># pandas functions</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">life_expectancy</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="n">life_expectancy</span><span class="o">.</span><span class="n">std</span><span class="p">(),</span> <span class="n">gdp</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span> <span class="n">gdp</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>

<span class="c1"># Vectorized operations and index arrays</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">>=</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">a</span><span class="o">>=</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>74.7
0     1681.613910
1     2155.485231
2    21495.805083
dtype: float64
----------------------------------------------------------------------------------------------------
Examining life expectancy 74.7
Examining life expectancy 75.0
Examining life expectancy 83.4
----------------------------------------------------------------------------------------------------
72.86999999999999 6.213999474869968 27036.4873319 366.04496652
----------------------------------------------------------------------------------------------------
0    2
1    4
2    4
3    6
dtype: int64
0    2
1    4
2    6
3    8
dtype: int64
0    False
1    False
2     True
3     True
dtype: bool
2    3
3    4
dtype: int64
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Series-index">Series index<a class="anchor-link" href="#Series-index">¶</a></h3><p>The main difference between pandas series and numpy arrays is that pandas series has something called index.</p>
<p>NumPy arrays are like souped version of python lists. Similarly, a pandas series is like a cross between a list and a dictionary. For list, elements are sorted in order and you access each element or series by position. For dictionary, you access value by key. So for pandas series, you can use <strong>both position and index</strong>. (I think here index is more similar to key in dictioanry)</p>
<p>If you didn't specify index when creating a pandas series, then <code>0,1,2,3...</code> are used as index by default.</p>
<p>In pandas series, use <code>s.loc[]</code> to access elements by index. When you use <code>s[]</code> then you are accessing elements by <strong>position</strong>. Pandas series has another attribute <code>s.iloc[]</code> to access element by position, which is the same as <code>s[]</code> but more clear. E.g., we say s.iloc[0] is position zero rather than index 0, as the index could be other character.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [10]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">'a'</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># as 0 is not the index, so bracket access [0] is by position</span>
<span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># iloc is location-based indexing, which is more explicit than p[0], </span>
<span class="c1">#so we should say it's position zero rather than index 0, as the index should be 'a'</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>a    1
b    2
c    3
dtype: int64
1
1
1
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [11]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">countries</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Afghanistan'</span><span class="p">,</span> <span class="s1">'Albania'</span><span class="p">,</span> <span class="s1">'Algeria'</span><span class="p">,</span> <span class="s1">'Angola'</span><span class="p">]</span>

<span class="n">employment_values</span> <span class="o">=</span> <span class="p">[</span><span class="mf">55.70000076</span><span class="p">,</span>  <span class="mf">51.40000153</span><span class="p">,</span>  <span class="mf">50.5</span>       <span class="p">,</span>  <span class="mf">75.69999695</span><span class="p">,]</span>

<span class="c1"># Employment data in 2007 for 20 countries</span>
<span class="n">employment</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">employment_values</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">countries</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [12]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">employment</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">employment</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">employment</span><span class="p">[</span><span class="s1">'Afghanistan'</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">employment</span><span class="o">.</span><span class="n">argmax</span><span class="p">())</span> <span class="c1"># as we know, this returns the index of maxmium, which is country name</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>55.70000076
55.70000076
55.70000076
Angola
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [13]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">max_employment</span><span class="p">(</span><span class="n">employment</span><span class="p">):</span>
    <span class="n">max_country</span> <span class="o">=</span> <span class="n">employment</span><span class="o">.</span><span class="n">argmax</span><span class="p">()</span>
    <span class="n">max_value</span> <span class="o">=</span> <span class="n">employment</span><span class="p">[</span><span class="n">max_country</span><span class="p">]</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">max_country</span><span class="p">,</span> <span class="n">max_value</span><span class="p">)</span>
<span class="n">max_employment</span><span class="p">(</span><span class="n">employment</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[13]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>('Angola', 75.699996949999999)</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Vectorized-Operations-and-Series-Indexes">Vectorized Operations and Series Indexes<a class="anchor-link" href="#Vectorized-Operations-and-Series-Indexes">¶</a></h3><ul>
<li>Add two Numpy arrays, you are adding by position</li>
<li>Add tow series with different indexes. </li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [14]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Addition when indexes are the same</span>
<span class="n">s1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">,</span> <span class="s1">'d'</span><span class="p">])</span>
<span class="n">s2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">,</span> <span class="s1">'d'</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s1</span> <span class="o">+</span> <span class="n">s2</span><span class="p">)</span>

<span class="c1"># Indexes have same elements in a different order</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="n">s1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">,</span> <span class="s1">'d'</span><span class="p">])</span>
<span class="n">s2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'b'</span><span class="p">,</span> <span class="s1">'d'</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s1</span> <span class="o">+</span> <span class="n">s2</span><span class="p">)</span>

<span class="c1"># Indexes overlap, but do not have exactly the same elements</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="n">s1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">,</span> <span class="s1">'d'</span><span class="p">])</span>
<span class="n">s2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'c'</span><span class="p">,</span> <span class="s1">'d'</span><span class="p">,</span> <span class="s1">'e'</span><span class="p">,</span> <span class="s1">'f'</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s1</span> <span class="o">+</span> <span class="n">s2</span><span class="p">)</span> <span class="c1"># only the overlapped indexes are added</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="nb">print</span><span class="p">((</span><span class="n">s1</span> <span class="o">+</span> <span class="n">s2</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">())</span> <span class="c1"># drop NA in a series</span>

<span class="c1"># Indexes do not overlap</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="n">s1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">,</span> <span class="s1">'d'</span><span class="p">])</span>
<span class="n">s2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'e'</span><span class="p">,</span> <span class="s1">'f'</span><span class="p">,</span> <span class="s1">'g'</span><span class="p">,</span> <span class="s1">'h'</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s1</span> <span class="o">+</span> <span class="n">s2</span><span class="p">)</span> <span class="c1"># no index is added</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>a    11
b    22
c    33
d    44
dtype: int64
----------------------------------------------------------------------------------------------------
a    31
b    12
c    43
d    24
dtype: int64
----------------------------------------------------------------------------------------------------
a     NaN
b     NaN
c    13.0
d    24.0
e     NaN
f     NaN
dtype: float64
----------------------------------------------------------------------------------------------------
c    13.0
d    24.0
dtype: float64
----------------------------------------------------------------------------------------------------
a   NaN
b   NaN
c   NaN
d   NaN
e   NaN
f   NaN
g   NaN
h   NaN
dtype: float64
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [15]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># default index of pandas series is 0,1,2</span>
<span class="n">p2</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">p2</span>
<span class="n">p2</span><span class="o">.</span><span class="n">iloc</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[15]:</div>
<div class="output_text output_subarea output_execute_result">
<pre><pandas.core.indexing._ilocindexer at 0x8093f98></pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [16]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># pandas argmax() function. It returns the index of first maximum values, which is 'c' here</span>
<span class="n">p</span><span class="o">.</span><span class="n">argmax</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[16]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>'c'</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Pandas-Series-apply().">Pandas Series <code>apply()</code>.<a class="anchor-link" href="#Pandas-Series-apply().">¶</a></h3><ul>
<li><code>apply()</code> takes a series and a function and returns a new series. It makes code concise.</li>
<li>Applies function along input axis of DataFrame/Series. axis : {0 or ‘index’, 1 or ‘columns’}, default 0</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [17]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">reverse</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">' '</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="s1">', '</span><span class="o">+</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="n">names</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span>
    <span class="s1">'Andre Agassi'</span><span class="p">,</span>
    <span class="s1">'Barry Bonds'</span><span class="p">,</span>
    <span class="s1">'Christopher Columbus'</span><span class="p">,</span>
    <span class="s1">'Daniel Defoe'</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">names</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">reverse</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>0            Agassi, Andre
1             Bonds, Barry
2    Columbus, Christopher
3            Defoe, Daniel
dtype: object
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Plotting-in-Pandas">Plotting in Pandas<a class="anchor-link" href="#Plotting-in-Pandas">¶</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [18]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">Image</span>
<span class="c1">#%pylab inline</span>
<span class="o">%</span><span class="k">matplotlib</span> inline 
<span class="c1"># make plots appear within the iPython notebook.</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1000</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[18]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>(array([  13.,   49.,  165.,  258.,  269.,  178.,   51.,   14.,    2.,    1.]),
 array([-2.82878883, -2.1349477 , -1.44110657, -0.74726544, -0.05342431,
         0.64041682,  1.33425795,  2.02809908,  2.72194021,  3.41578134,
         4.10962247]),
 <a list of 10 patch objects>)</pre>
</div>
</div>
<div class="output_area"><div class="prompt"></div>
<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
SAAAAABJRU5ErkJggg==
">
</img></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [19]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># pandas also has build-in plotting using matplotlib</span>
<span class="c1"># The index of the Series will be used for the x-axis and the values for the y-axis</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">,</span> <span class="s1">'d'</span><span class="p">])</span>
<span class="n">data</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[19]:</div>
<div class="output_text output_subarea output_execute_result">
<pre><matplotlib.axes._subplots.axessubplot at 0x87255f8></pre>
</div>
</div>
<div class="output_area"><div class="prompt"></div>
<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
">
</img></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="3.-NumPy-and-Pandas-for-2D-Data">3. NumPy and Pandas for 2D Data<a class="anchor-link" href="#3.-NumPy-and-Pandas-for-2D-Data">¶</a></h2><h3 id="Two-dimensional-data:">Two-dimensional data:<a class="anchor-link" href="#Two-dimensional-data:">¶</a></h3><ul>
<li>Python: list of lists</li>
<li>NumPy: 2D array</li>
<li>Pandas: Data Frame
2D arrays, as opposed to array of arrays:</li>
<li>more memory efficient. See this <a href="http://docs.scipy.org/doc/numpy/reference/arrays.ndarray.html#internal-memory-layout-of-an-ndarray">page</a>.</li>
<li>The syntax to access the element is different. For 2D array, use <code>a[1,3]</code> rather than <code>a[1][3]</code> of array of arrays. The row and column can also be a slice using colon notation. <code>a[1:3, 4:5]</code></li>
<li><code>mean(), std(), etc</code> operate on entire array. </li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [20]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ridership</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
    <span class="p">[</span>   <span class="mi">0</span><span class="p">,</span>    <span class="mi">0</span><span class="p">,</span>    <span class="mi">2</span><span class="p">,</span>    <span class="mi">5</span><span class="p">,</span>    <span class="mi">0</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1478</span><span class="p">,</span> <span class="mi">3877</span><span class="p">,</span> <span class="mi">3674</span><span class="p">,</span> <span class="mi">2328</span><span class="p">,</span> <span class="mi">2539</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1613</span><span class="p">,</span> <span class="mi">4088</span><span class="p">,</span> <span class="mi">3991</span><span class="p">,</span> <span class="mi">6461</span><span class="p">,</span> <span class="mi">2691</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1560</span><span class="p">,</span> <span class="mi">3392</span><span class="p">,</span> <span class="mi">3826</span><span class="p">,</span> <span class="mi">4787</span><span class="p">,</span> <span class="mi">2613</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1608</span><span class="p">,</span> <span class="mi">4802</span><span class="p">,</span> <span class="mi">3932</span><span class="p">,</span> <span class="mi">4477</span><span class="p">,</span> <span class="mi">2705</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1576</span><span class="p">,</span> <span class="mi">3933</span><span class="p">,</span> <span class="mi">3909</span><span class="p">,</span> <span class="mi">4979</span><span class="p">,</span> <span class="mi">2685</span><span class="p">],</span>
    <span class="p">[</span>  <span class="mi">95</span><span class="p">,</span>  <span class="mi">229</span><span class="p">,</span>  <span class="mi">255</span><span class="p">,</span>  <span class="mi">496</span><span class="p">,</span>  <span class="mi">201</span><span class="p">],</span>
    <span class="p">[</span>   <span class="mi">2</span><span class="p">,</span>    <span class="mi">0</span><span class="p">,</span>    <span class="mi">1</span><span class="p">,</span>   <span class="mi">27</span><span class="p">,</span>    <span class="mi">0</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1438</span><span class="p">,</span> <span class="mi">3785</span><span class="p">,</span> <span class="mi">3589</span><span class="p">,</span> <span class="mi">4174</span><span class="p">,</span> <span class="mi">2215</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">1342</span><span class="p">,</span> <span class="mi">4043</span><span class="p">,</span> <span class="mi">4009</span><span class="p">,</span> <span class="mi">4665</span><span class="p">,</span> <span class="mi">3033</span><span class="p">]</span>
<span class="p">])</span>

<span class="k">def</span> <span class="nf">mean_riders_for_max_station</span><span class="p">(</span><span class="n">ridership</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    Fill in this function to find the station with the maximum riders on the</span>
<span class="sd">    first day, then return the mean riders per day for that station. Also</span>
<span class="sd">    return the mean ridership overall for comparsion.</span>
<span class="sd">    </span>
<span class="sd">    Hint: NumPy's argmax() function might be useful:</span>
<span class="sd">    http://docs.scipy.org/doc/numpy/reference/generated/numpy.argmax.html</span>
<span class="sd">    '''</span>
    <span class="n">overall_mean</span> <span class="o">=</span> <span class="n">ridership</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="c1"># Replace this with your code</span>
    <span class="n">max_station_first_day</span> <span class="o">=</span> <span class="n">ridership</span><span class="p">[</span><span class="mi">0</span><span class="p">,:]</span><span class="o">.</span><span class="n">argmax</span><span class="p">()</span>
    <span class="n">mean_for_max</span> <span class="o">=</span> <span class="n">ridership</span><span class="p">[:,</span> <span class="n">max_station_first_day</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="c1"># Replace this with your code</span>
    
    <span class="k">return</span> <span class="p">(</span><span class="n">overall_mean</span><span class="p">,</span> <span class="n">mean_for_max</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mean_riders_for_max_station</span><span class="p">(</span><span class="n">ridership</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>(2342.5999999999999, 3239.9000000000001)
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="NumPy-Axis">NumPy Axis<a class="anchor-link" href="#NumPy-Axis">¶</a></h3><p>E.g. <code>array.mean(axis = 0)</code>, compute the mean of each column; <code>array.mean(axis = 1)</code>, compute the mean of each row.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [21]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">ridership</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span> <span class="o">=</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[ 1071.2  2814.9  2718.8  3239.9  1868.2]
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="NumPy-and-Pandas-Data-Types">NumPy and Pandas Data Types<a class="anchor-link" href="#NumPy-and-Pandas-Data-Types">¶</a></h3><ul>
<li>When not all elements are numbers like there is NAN, numpy array can't take mean, while Pandas dataframe can. </li>
<li>Pandas Dataframe has indexes similar to Pandas series. There is an index value for each row, and a name for column. (I think index is kind of row name) </li>
<li>When taking mean, pandas computes the mean of each column rather than the mean of the entire data frame, since each column is assumed to be different types. </li>
<li>Use axis argument to take the mean of each row. <code>df.mean(axis=1)</code>. But it doesn't work if the data types are different.</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [22]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>

<span class="c1"># convert a dictionary to dataframe, the key is converted as column names.</span>
<span class="n">dic</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'a'</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="s1">'b'</span><span class="p">:[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="s1">'c'</span><span class="p">:[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]}</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">dic</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'x'</span><span class="p">,</span> <span class="s1">'y'</span><span class="p">,</span> <span class="s1">'z'</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>

<span class="c1"># convert a 2D numpy array or list of lists to pandas dataframe</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="n">df_2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">,</span> <span class="s1">'C'</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>int32
   a  b  c
x  1  4  7
y  2  5  8
z  3  6  9
a    2.0
b    5.0
c    8.0
dtype: float64
5.0
----------------------------------------------------------------------------------------------------
   A  B  C
0  0  1  2
1  3  4  5
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Access-Elements-of-DataFrame">Access Elements of DataFrame<a class="anchor-link" href="#Access-Elements-of-DataFrame">¶</a></h3><ul>
<li>Access a single row of a data frame is similiar to asscess a single element of a series. Use <code>loc[]</code> to access rows by index, and use <code>iloc[]</code> to access rows by position.</li>
<li>Access a single element. <code>df.iloc[2, 3]</code>, or <code>df.loc[index, colName]</code></li>
<li>Access columns using square brackets. <code>df[colName]</code></li>
<li>Use <code>df.values()</code> to get a 2D Numpy array. There is only values without column names and row indexes. If you want to compute the mean of all value you can use this. Be careful of the data types when doing this. </li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [23]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ridership_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="p">[[</span>   <span class="mi">0</span><span class="p">,</span>    <span class="mi">0</span><span class="p">,</span>    <span class="mi">2</span><span class="p">,</span>    <span class="mi">5</span><span class="p">,</span>    <span class="mi">0</span><span class="p">],</span>
          <span class="p">[</span><span class="mi">1478</span><span class="p">,</span> <span class="mi">3877</span><span class="p">,</span> <span class="mi">3674</span><span class="p">,</span> <span class="mi">2328</span><span class="p">,</span> <span class="mi">2539</span><span class="p">],</span>
          <span class="p">[</span><span class="mi">1613</span><span class="p">,</span> <span class="mi">4088</span><span class="p">,</span> <span class="mi">3991</span><span class="p">,</span> <span class="mi">6461</span><span class="p">,</span> <span class="mi">2691</span><span class="p">],</span>
          <span class="p">[</span><span class="mi">1560</span><span class="p">,</span> <span class="mi">3392</span><span class="p">,</span> <span class="mi">3826</span><span class="p">,</span> <span class="mi">4787</span><span class="p">,</span> <span class="mi">2613</span><span class="p">],</span>
          <span class="p">[</span><span class="mi">1608</span><span class="p">,</span> <span class="mi">4802</span><span class="p">,</span> <span class="mi">3932</span><span class="p">,</span> <span class="mi">4477</span><span class="p">,</span> <span class="mi">2705</span><span class="p">],</span>
          <span class="p">[</span><span class="mi">1576</span><span class="p">,</span> <span class="mi">3933</span><span class="p">,</span> <span class="mi">3909</span><span class="p">,</span> <span class="mi">4979</span><span class="p">,</span> <span class="mi">2685</span><span class="p">],</span>
          <span class="p">[</span>  <span class="mi">95</span><span class="p">,</span>  <span class="mi">229</span><span class="p">,</span>  <span class="mi">255</span><span class="p">,</span>  <span class="mi">496</span><span class="p">,</span>  <span class="mi">201</span><span class="p">],</span>
          <span class="p">[</span>   <span class="mi">2</span><span class="p">,</span>    <span class="mi">0</span><span class="p">,</span>    <span class="mi">1</span><span class="p">,</span>   <span class="mi">27</span><span class="p">,</span>    <span class="mi">0</span><span class="p">],</span>
          <span class="p">[</span><span class="mi">1438</span><span class="p">,</span> <span class="mi">3785</span><span class="p">,</span> <span class="mi">3589</span><span class="p">,</span> <span class="mi">4174</span><span class="p">,</span> <span class="mi">2215</span><span class="p">],</span>
          <span class="p">[</span><span class="mi">1342</span><span class="p">,</span> <span class="mi">4043</span><span class="p">,</span> <span class="mi">4009</span><span class="p">,</span> <span class="mi">4665</span><span class="p">,</span> <span class="mi">3033</span><span class="p">]],</span>
    <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'05-01-11'</span><span class="p">,</span> <span class="s1">'05-02-11'</span><span class="p">,</span> <span class="s1">'05-03-11'</span><span class="p">,</span> <span class="s1">'05-04-11'</span><span class="p">,</span> <span class="s1">'05-05-11'</span><span class="p">,</span>
           <span class="s1">'05-06-11'</span><span class="p">,</span> <span class="s1">'05-07-11'</span><span class="p">,</span> <span class="s1">'05-08-11'</span><span class="p">,</span> <span class="s1">'05-09-11'</span><span class="p">,</span> <span class="s1">'05-10-11'</span><span class="p">],</span>
    <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'R003'</span><span class="p">,</span> <span class="s1">'R004'</span><span class="p">,</span> <span class="s1">'R005'</span><span class="p">,</span> <span class="s1">'R006'</span><span class="p">,</span> <span class="s1">'R007'</span><span class="p">]</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">ridership_df</span><span class="p">)</span>

<span class="c1"># access elements, first row</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ridership_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># note .iloc[0, :] is wrong</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">ridership_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="c1"># note the first row is a pandas series, and the column names became series indexes.</span>

<span class="c1"># row whose index is '05-02-11'</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ridership_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">'05-02-11'</span><span class="p">])</span>

<span class="c1"># column whose column name is 'R003'</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ridership_df</span><span class="p">[</span><span class="s1">'R003'</span><span class="p">])</span> <span class="c1"># note [:, 'R003'] is wrong</span>

<span class="c1"># access 2nd row, 4th column</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ridership_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>

<span class="c1"># access multiple rows</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ridership_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">])</span>

<span class="c1"># access multiple columns</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ridership_df</span><span class="p">[[</span><span class="s1">'R003'</span><span class="p">,</span> <span class="s1">'R005'</span><span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>          R003  R004  R005  R006  R007
05-01-11     0     0     2     5     0
05-02-11  1478  3877  3674  2328  2539
05-03-11  1613  4088  3991  6461  2691
05-04-11  1560  3392  3826  4787  2613
05-05-11  1608  4802  3932  4477  2705
05-06-11  1576  3933  3909  4979  2685
05-07-11    95   229   255   496   201
05-08-11     2     0     1    27     0
05-09-11  1438  3785  3589  4174  2215
05-10-11  1342  4043  4009  4665  3033
----------------------------------------------------------------------------------------------------
R003    0
R004    0
R005    2
R006    5
R007    0
Name: 05-01-11, dtype: int64
<class &#x27;pandas.core.series.series&#x27;>
----------------------------------------------------------------------------------------------------
R003    1478
R004    3877
R005    3674
R006    2328
R007    2539
Name: 05-02-11, dtype: int64
----------------------------------------------------------------------------------------------------
05-01-11       0
05-02-11    1478
05-03-11    1613
05-04-11    1560
05-05-11    1608
05-06-11    1576
05-07-11      95
05-08-11       2
05-09-11    1438
05-10-11    1342
Name: R003, dtype: int64
----------------------------------------------------------------------------------------------------
2328
----------------------------------------------------------------------------------------------------
          R003  R004  R005  R006  R007
05-02-11  1478  3877  3674  2328  2539
05-03-11  1613  4088  3991  6461  2691
----------------------------------------------------------------------------------------------------
          R003  R005
05-01-11     0     2
05-02-11  1478  3674
05-03-11  1613  3991
05-04-11  1560  3826
05-05-11  1608  3932
05-06-11  1576  3909
05-07-11    95   255
05-08-11     2     1
05-09-11  1438  3589
05-10-11  1342  4009
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [24]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># the index of maximum</span>
<span class="n">ridership_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">argmax</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[24]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>'R006'</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Loading-Data-into-a-DataFrame">Loading Data into a DataFrame<a class="anchor-link" href="#Loading-Data-into-a-DataFrame">¶</a></h3><p><code>df = pd.read_csv(fileNmae)</code></p>
<p><code>df.head()</code></p>
<p><code>df.describe()</code></p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [25]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># read csv file</span>
<span class="n">subway_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"nyc_subway_weather.csv"</span><span class="p">)</span>

<span class="c1"># compute the mean of one column</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">subway_df</span><span class="p">[</span><span class="s1">'ENTRIESn_hourly'</span><span class="p">]))</span>

<span class="c1"># compute the correlation of two columns</span>
<span class="k">def</span> <span class="nf">correlation</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    Fill in this function to compute the correlation between the two</span>
<span class="sd">    input variables. Each input is either a NumPy array or a Pandas</span>
<span class="sd">    Series.</span>
<span class="sd">    </span>
<span class="sd">    correlation = average of (x in standard units) times (y in standard units)</span>
<span class="sd">    </span>
<span class="sd">    Remember to pass the argument "ddof=0" to the Pandas std() function!</span>
<span class="sd">    '''</span>
    <span class="n">std_x</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span><span class="o">/</span><span class="n">x</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">ddof</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">std_y</span> <span class="o">=</span> <span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="n">y</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span><span class="o">/</span><span class="n">y</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">ddof</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="p">(</span><span class="n">std_x</span> <span class="o">*</span> <span class="n">std_y</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="n">entries</span> <span class="o">=</span> <span class="n">subway_df</span><span class="p">[</span><span class="s1">'ENTRIESn_hourly'</span><span class="p">]</span>
<span class="n">cum_entries</span> <span class="o">=</span> <span class="n">subway_df</span><span class="p">[</span><span class="s1">'ENTRIESn'</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">correlation</span><span class="p">(</span><span class="n">entries</span><span class="p">,</span> <span class="n">cum_entries</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1886.5899552158317
0.5858954707662182
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Pandas-Axis-Name">Pandas Axis Name<a class="anchor-link" href="#Pandas-Axis-Name">¶</a></h3><p>axis : {0 or ‘index’, 1 or ‘columns’}, default 0. You can use axis='index' or axis='column'.</p>
<p>For example, <code>pd.mean(axis='columns)</code> means take the means <strong>along the column</strong>, which returns the mean of each row. Similarily, <code>pd.mean(axis='index)</code> means take the means <strong>along the index</strong>, which returns the mean of each column.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="DataFrame-Vectorized-Operations">DataFrame Vectorized Operations<a class="anchor-link" href="#DataFrame-Vectorized-Operations">¶</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [26]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># adding DataFrame with the column names</span>
<span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'a'</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">'b'</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="s1">'c'</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]})</span>
<span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'a'</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">],</span> <span class="s1">'b'</span><span class="p">:</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="s1">'c'</span><span class="p">:</span> <span class="p">[</span><span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">90</span><span class="p">]})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df1</span><span class="o">+</span><span class="n">df2</span><span class="p">)</span>

<span class="c1"># adding DataFrame with overlapping column names</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'a'</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">'b'</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="s1">'c'</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]})</span>
<span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'d'</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">],</span> <span class="s1">'c'</span><span class="p">:</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="s1">'b'</span><span class="p">:</span> <span class="p">[</span><span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">90</span><span class="p">]})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df1</span> <span class="o">+</span> <span class="n">df2</span><span class="p">)</span>

<span class="c1"># adding DataFrame with overlapping row indexes</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'a'</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">'b'</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="s1">'c'</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]},</span>
                       <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'row1'</span><span class="p">,</span> <span class="s1">'row2'</span><span class="p">,</span> <span class="s1">'row3'</span><span class="p">])</span>
<span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'a'</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">],</span> <span class="s1">'b'</span><span class="p">:</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span> <span class="s1">'c'</span><span class="p">:</span> <span class="p">[</span><span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">90</span><span class="p">]},</span>
                       <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'row4'</span><span class="p">,</span> <span class="s1">'row3'</span><span class="p">,</span> <span class="s1">'row2'</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df1</span> <span class="o">+</span> <span class="n">df2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>   a  b  c
0  1  4  7
1  2  5  8
2  3  6  9
    a   b   c
0  10  40  70
1  20  50  80
2  30  60  90
    a   b   c
0  11  44  77
1  22  55  88
2  33  66  99
----------------------------------------------------------------------------------------------------
    a   b   c   d
0 NaN  74  47 NaN
1 NaN  85  58 NaN
2 NaN  96  69 NaN
----------------------------------------------------------------------------------------------------
         a     b     c
row1   NaN   NaN   NaN
row2  32.0  65.0  98.0
row3  23.0  56.0  89.0
row4   NaN   NaN   NaN
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [27]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># compute the entries per hour from cumulative entries</span>
<span class="n">entries_and_exits</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">'ENTRIESn'</span><span class="p">:</span> <span class="p">[</span><span class="mi">3144312</span><span class="p">,</span> <span class="mi">3144335</span><span class="p">,</span> <span class="mi">3144353</span><span class="p">,</span> <span class="mi">3144424</span><span class="p">,</span> <span class="mi">3144594</span><span class="p">,</span>
                 <span class="mi">3144808</span><span class="p">,</span> <span class="mi">3144895</span><span class="p">,</span> <span class="mi">3144905</span><span class="p">,</span> <span class="mi">3144941</span><span class="p">,</span> <span class="mi">3145094</span><span class="p">],</span>
    <span class="s1">'EXITSn'</span><span class="p">:</span> <span class="p">[</span><span class="mi">1088151</span><span class="p">,</span> <span class="mi">1088159</span><span class="p">,</span> <span class="mi">1088177</span><span class="p">,</span> <span class="mi">1088231</span><span class="p">,</span> <span class="mi">1088275</span><span class="p">,</span>
               <span class="mi">1088317</span><span class="p">,</span> <span class="mi">1088328</span><span class="p">,</span> <span class="mi">1088331</span><span class="p">,</span> <span class="mi">1088420</span><span class="p">,</span> <span class="mi">1088753</span><span class="p">]</span>
<span class="p">})</span>


<span class="c1"># method 1:</span>
<span class="c1"># create a data frame with specific column names</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'entries'</span><span class="p">,</span> <span class="s1">'exits'</span><span class="p">])</span>
<span class="n">result</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">entries_and_exits</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">result</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">entries_and_exits</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">entries_and_exits</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">values</span> <span class="c1"># add rows to DataFrame using loc[]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

<span class="c1"># method 2: using shift method, DataFrame minus DataFrame</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">entries_and_exits</span> <span class="o">-</span> <span class="n">entries_and_exits</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>   entries  exits
0      0.0    0.0
1     23.0    8.0
2     18.0   18.0
3     71.0   54.0
4    170.0   44.0
5    214.0   42.0
6     87.0   11.0
7     10.0    3.0
8     36.0   89.0
9    153.0  333.0
----------------------------------------------------------------------------------------------------
   ENTRIESn  EXITSn
0       NaN     NaN
1      23.0     8.0
2      18.0    18.0
3      71.0    54.0
4     170.0    44.0
5     214.0    42.0
6      87.0    11.0
7      10.0     3.0
8      36.0    89.0
9     153.0   333.0
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [28]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># add a row in a data frame</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'col1'</span><span class="p">,</span> <span class="s1">'col2'</span><span class="p">])</span>
<span class="n">temp</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>   col1  col2
2   1.0   2.0
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="DataFrame-applymap()-and-apply()">DataFrame applymap() and apply()<a class="anchor-link" href="#DataFrame-applymap()-and-apply()">¶</a></h3><ul>
<li><code>applymap()</code> applys a function to a DataFrame that is intended to operate elementwise. Like doing map for each series in the DataFrame.</li>
<li><code>apply()</code> on data frame is direct analog of apply on a series. Think a piece is a column rather than a single element. You pass <code>apply()</code> a pandas series(a column of data frame), and return a new pandas series(a new column of data frame). </li>
<li>The benefit of <code>apply()</code> over <code>applymap()</code> is that the operation you want to do on each element might depend on the entire column. However <code>applymap()</code> is just element-to-element mapping.</li>
<li><code>apply()</code> also takes an axis argument so you can write a function operates on one row each time.</li>
<li><code>apply()</code> can also take in one column and return just one single value. Then if takes a data frame, it returns a series.</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [29]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># applymap()</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s1">'a'</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
        <span class="s1">'b'</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">],</span>
        <span class="s1">'c'</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">]</span>
    <span class="p">})</span>
<span class="k">def</span> <span class="nf">add_one</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="n">add_one</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>   a   b   c
0  2  11   6
1  3  21  11
2  4  31  16
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [30]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">grades_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s1">'exam1'</span><span class="p">:</span> <span class="p">[</span><span class="mi">43</span><span class="p">,</span> <span class="mi">81</span><span class="p">,</span> <span class="mi">78</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">89</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">91</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">98</span><span class="p">,</span> <span class="mi">87</span><span class="p">],</span>
          <span class="s1">'exam2'</span><span class="p">:</span> <span class="p">[</span><span class="mi">24</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="mi">79</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">60</span><span class="p">]},</span>
    <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'Andre'</span><span class="p">,</span> <span class="s1">'Barry'</span><span class="p">,</span> <span class="s1">'Chris'</span><span class="p">,</span> <span class="s1">'Dan'</span><span class="p">,</span> <span class="s1">'Emilio'</span><span class="p">,</span> 
           <span class="s1">'Fred'</span><span class="p">,</span> <span class="s1">'Greta'</span><span class="p">,</span> <span class="s1">'Humbert'</span><span class="p">,</span> <span class="s1">'Ivan'</span><span class="p">,</span> <span class="s1">'James'</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">grades_df</span>
    
<span class="k">def</span> <span class="nf">convert_grades</span><span class="p">(</span><span class="n">grades</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    Fill in this function to convert the given DataFrame of numerical</span>
<span class="sd">    grades to letter grades. Return a new DataFrame with the converted</span>
<span class="sd">    grade.</span>
<span class="sd">    </span>
<span class="sd">    The conversion rule is:</span>
<span class="sd">        90-100 -> A</span>
<span class="sd">        80-89  -> B</span>
<span class="sd">        70-79  -> C</span>
<span class="sd">        60-69  -> D</span>
<span class="sd">        0-59   -> F</span>
<span class="sd">    '''</span>
    <span class="k">def</span> <span class="nf">conversion</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
        <span class="k">if</span> <span class="mi">90</span> <span class="o"><=</span> <span class="n">x</span> <span class="o"><=</span><span class="mi">100</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="s1">'A'</span>
        <span class="k">elif</span> <span class="mi">80</span> <span class="o"><=</span> <span class="n">x</span> <span class="o"><</span> <span class="mi">90</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="s1">'B'</span>
        <span class="k">elif</span> <span class="mi">70</span> <span class="o"><=</span> <span class="n">x</span> <span class="o"><</span> <span class="mi">80</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="s1">'C'</span>
        <span class="k">elif</span> <span class="mi">60</span> <span class="o"><=</span> <span class="n">x</span> <span class="o"><</span> <span class="mi">70</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="s1">'D'</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="s1">'F'</span>
        <span class="k">return</span> <span class="n">x</span>
    <span class="k">return</span> <span class="n">grades</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="n">conversion</span><span class="p">)</span>
<span class="n">convert_grades</span><span class="p">(</span><span class="n">grades_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[30]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>exam1</th>
<th>exam2</th>
</tr>
</thead>
<tbody>
<tr>
<th>Andre</th>
<td>F</td>
<td>F</td>
</tr>
<tr>
<th>Barry</th>
<td>B</td>
<td>D</td>
</tr>
<tr>
<th>Chris</th>
<td>C</td>
<td>F</td>
</tr>
<tr>
<th>Dan</th>
<td>C</td>
<td>F</td>
</tr>
<tr>
<th>Emilio</th>
<td>B</td>
<td>D</td>
</tr>
<tr>
<th>Fred</th>
<td>C</td>
<td>F</td>
</tr>
<tr>
<th>Greta</th>
<td>A</td>
<td>C</td>
</tr>
<tr>
<th>Humbert</th>
<td>D</td>
<td>F</td>
</tr>
<tr>
<th>Ivan</th>
<td>A</td>
<td>C</td>
</tr>
<tr>
<th>James</th>
<td>B</td>
<td>D</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [31]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># use apply() to compute standarized value of each element</span>
<span class="k">def</span> <span class="nf">standardize</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    Fill in this function to standardize each column of the given</span>
<span class="sd">    DataFrame. To standardize a variable, convert each value to the</span>
<span class="sd">    number of standard deviations it is above or below the mean.</span>
<span class="sd">    '''</span>
    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span><span class="o">/</span><span class="n">x</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">ddof</span> <span class="o">=</span> <span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">standardize</span><span class="p">(</span><span class="n">grades_df</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>            exam1     exam2
Andre   -2.315341 -2.304599
Barry    0.220191  0.386400
Chris    0.020017 -0.096600
Dan     -0.180156 -0.096600
Emilio   0.753987  0.662400
Fred    -0.513779 -0.441600
Greta    0.887436  1.490400
Humbert -0.847401 -0.786600
Ivan     1.354508  1.007400
James    0.620538  0.179400
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [32]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># case 2 of apply()</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">'a'</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
    <span class="s1">'b'</span><span class="p">:</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">30</span><span class="p">],</span>
    <span class="s1">'c'</span><span class="p">:</span> <span class="p">[</span><span class="mi">25</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">second_largest</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    Fill in this function to return the second-largest value of each </span>
<span class="sd">    column of the input DataFrame.</span>
<span class="sd">    '''</span>
    <span class="k">def</span> <span class="nf">second_largest_column</span><span class="p">(</span><span class="n">column</span><span class="p">):</span>
        <span class="c1"># note the the sort_values() doesn't modify the original column, so sort first, column.iloc[1] is wrong.</span>
        <span class="k">return</span> <span class="n">column</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># second largest element of each column </span>
    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">second_largest_column</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">second_largest</span><span class="p">(</span><span class="n">df</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>a     5
b    50
c    25
dtype: int64
a     4
b    40
c    20
dtype: int64
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Adding-a-DataFrame-to-a-Series">Adding a DataFrame to a Series<a class="anchor-link" href="#Adding-a-DataFrame-to-a-Series">¶</a></h3><p>It matches up the series to the dataframe using <strong>index</strong> of the series and the <strong>column name</strong> of the dataframe.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [33]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># adding a Series to a square DataFrame</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="mi">0</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">],</span>
        <span class="mi">1</span><span class="p">:</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">],</span>
        <span class="mi">2</span><span class="p">:</span> <span class="p">[</span><span class="mi">90</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">120</span><span class="p">],</span>
        <span class="mi">3</span><span class="p">:</span> <span class="p">[</span><span class="mi">130</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">160</span><span class="p">]</span>
    <span class="p">})</span>    
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">+</span><span class="n">s</span><span class="p">)</span>

<span class="c1"># adding a Series to a one-row DataFrame</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="mi">0</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">],</span> <span class="mi">1</span><span class="p">:</span> <span class="p">[</span><span class="mi">20</span><span class="p">],</span> <span class="mi">2</span><span class="p">:</span> <span class="p">[</span><span class="mi">30</span><span class="p">],</span> <span class="mi">3</span><span class="p">:</span> <span class="p">[</span><span class="mi">40</span><span class="p">]})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">+</span><span class="n">s</span><span class="p">)</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="mi">0</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">]})</span>

<span class="c1"># adding a Series to a one-column DataFrame</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="mi">0</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">]})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">+</span><span class="n">s</span><span class="p">)</span>

<span class="c1"># adding when DataFrame column names match Series index</span>
<span class="c1"># actually the first case is the same as this one. As the default Series index is 0,1,2..., which is the same as the colnames. </span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">,</span> <span class="s1">'d'</span><span class="p">])</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s1">'a'</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">],</span>
        <span class="s1">'b'</span><span class="p">:</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">],</span>
        <span class="s1">'c'</span><span class="p">:</span> <span class="p">[</span><span class="mi">90</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">120</span><span class="p">],</span>
        <span class="s1">'d'</span><span class="p">:</span> <span class="p">[</span><span class="mi">130</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">160</span><span class="p">]</span>
    <span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">+</span><span class="n">s</span><span class="p">)</span>

<span class="c1"># adding when DataFrame column names don't match Series index</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'-'</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s1">'a'</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">],</span>
        <span class="s1">'b'</span><span class="p">:</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">],</span>
        <span class="s1">'c'</span><span class="p">:</span> <span class="p">[</span><span class="mi">90</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">120</span><span class="p">],</span>
        <span class="s1">'d'</span><span class="p">:</span> <span class="p">[</span><span class="mi">130</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">160</span><span class="p">]</span>
    <span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">+</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>    0   1    2    3
0  10  50   90  130
1  20  60  100  140
2  30  70  110  150
3  40  80  120  160
    0   1    2    3
0  11  52   93  134
1  21  62  103  144
2  31  72  113  154
3  41  82  123  164
----------------------------------------------------------------------------------------------------
    0   1   2   3
0  10  20  30  40
    0   1   2   3
0  11  22  33  44
----------------------------------------------------------------------------------------------------
    0
0  10
1  20
2  30
3  40
    0   1   2   3
0  11 NaN NaN NaN
1  21 NaN NaN NaN
2  31 NaN NaN NaN
3  41 NaN NaN NaN
----------------------------------------------------------------------------------------------------
    a   b    c    d
0  10  50   90  130
1  20  60  100  140
2  30  70  110  150
3  40  80  120  160
    a   b    c    d
0  11  52   93  134
1  21  62  103  144
2  31  72  113  154
3  41  82  123  164
----------------------------------------------------------------------------------------------------
    a   b    c    d
0  10  50   90  130
1  20  60  100  140
2  30  70  110  150
3  40  80  120  160
    a   b   c   d   0   1   2   3
0 NaN NaN NaN NaN NaN NaN NaN NaN
1 NaN NaN NaN NaN NaN NaN NaN NaN
2 NaN NaN NaN NaN NaN NaN NaN NaN
3 NaN NaN NaN NaN NaN NaN NaN NaN
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [34]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># using .add() method</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="mi">0</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">],</span>
        <span class="mi">1</span><span class="p">:</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">],</span>
        <span class="mi">2</span><span class="p">:</span> <span class="p">[</span><span class="mi">90</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">120</span><span class="p">],</span>
        <span class="mi">3</span><span class="p">:</span> <span class="p">[</span><span class="mi">130</span><span class="p">,</span> <span class="mi">140</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">160</span><span class="p">]</span>
    <span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">'columns'</span><span class="p">))</span> <span class="c1"># the same as df+s, axis='columns' by default</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">'index'</span><span class="p">))</span> 
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>    0   1    2    3
0  11  52   93  134
1  21  62  103  144
2  31  72  113  154
3  41  82  123  164
    0   1    2    3
0  11  51   91  131
1  22  62  102  142
2  33  73  113  153
3  44  84  124  164
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [35]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">grades_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s1">'exam1'</span><span class="p">:</span> <span class="p">[</span><span class="mi">43</span><span class="p">,</span> <span class="mi">81</span><span class="p">,</span> <span class="mi">78</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">89</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">91</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">98</span><span class="p">,</span> <span class="mi">87</span><span class="p">],</span>
          <span class="s1">'exam2'</span><span class="p">:</span> <span class="p">[</span><span class="mi">24</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">67</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="mi">79</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">60</span><span class="p">]},</span>
    <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'Andre'</span><span class="p">,</span> <span class="s1">'Barry'</span><span class="p">,</span> <span class="s1">'Chris'</span><span class="p">,</span> <span class="s1">'Dan'</span><span class="p">,</span> <span class="s1">'Emilio'</span><span class="p">,</span> 
           <span class="s1">'Fred'</span><span class="p">,</span> <span class="s1">'Greta'</span><span class="p">,</span> <span class="s1">'Humbert'</span><span class="p">,</span> <span class="s1">'Ivan'</span><span class="p">,</span> <span class="s1">'James'</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">grades_df</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[35]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>exam1</th>
<th>exam2</th>
</tr>
</thead>
<tbody>
<tr>
<th>Andre</th>
<td>43</td>
<td>24</td>
</tr>
<tr>
<th>Barry</th>
<td>81</td>
<td>63</td>
</tr>
<tr>
<th>Chris</th>
<td>78</td>
<td>56</td>
</tr>
<tr>
<th>Dan</th>
<td>75</td>
<td>56</td>
</tr>
<tr>
<th>Emilio</th>
<td>89</td>
<td>67</td>
</tr>
<tr>
<th>Fred</th>
<td>70</td>
<td>51</td>
</tr>
<tr>
<th>Greta</th>
<td>91</td>
<td>79</td>
</tr>
<tr>
<th>Humbert</th>
<td>65</td>
<td>46</td>
</tr>
<tr>
<th>Ivan</th>
<td>98</td>
<td>72</td>
</tr>
<tr>
<th>James</th>
<td>87</td>
<td>60</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Standardize-Columns-and-Rows-via-Vectorized-Operation">Standardize Columns and Rows via Vectorized Operation<a class="anchor-link" href="#Standardize-Columns-and-Rows-via-Vectorized-Operation">¶</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [36]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">standardize</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    Fill in this function to standardize each column of the given</span>
<span class="sd">    DataFrame. To standardize a variable, convert each value to the</span>
<span class="sd">    number of standard deviations it is above or below the mean.</span>
<span class="sd">    </span>
<span class="sd">    This time, try to use vectorized operations instead of apply().</span>
<span class="sd">    You should get the same results as you did before.</span>
<span class="sd">    '''</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">df</span> <span class="o">-</span> <span class="n">df</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span><span class="o">/</span><span class="n">df</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">ddof</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">standardize_rows</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    Optional: Fill in this function to standardize each row of the given</span>
<span class="sd">    DataFrame. Again, try not to use apply().</span>
<span class="sd">    </span>
<span class="sd">    This one is more challenging than standardizing each column!</span>
<span class="sd">    '''</span>
    <span class="n">mean</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">'columns'</span><span class="p">)</span>
    <span class="n">std</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">ddof</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">'columns'</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="o">-</span><span class="n">mean</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">'index'</span><span class="p">)</span><span class="o">.</span><span class="n">div</span><span class="p">(</span><span class="n">std</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">'index'</span><span class="p">)</span>   <span class="c1"># note .div() is similar to .add()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">standardize</span><span class="p">(</span><span class="n">grades_df</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">standardize_rows</span><span class="p">(</span><span class="n">grades_df</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>            exam1     exam2
Andre   -2.315341 -2.304599
Barry    0.220191  0.386400
Chris    0.020017 -0.096600
Dan     -0.180156 -0.096600
Emilio   0.753987  0.662400
Fred    -0.513779 -0.441600
Greta    0.887436  1.490400
Humbert -0.847401 -0.786600
Ivan     1.354508  1.007400
James    0.620538  0.179400
         exam1  exam2
Andre      1.0   -1.0
Barry      1.0   -1.0
Chris      1.0   -1.0
Dan        1.0   -1.0
Emilio     1.0   -1.0
Fred       1.0   -1.0
Greta      1.0   -1.0
Humbert    1.0   -1.0
Ivan       1.0   -1.0
James      1.0   -1.0
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [37]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># show how .add() works</span>
<span class="n">t</span><span class="o">=</span> <span class="n">grades_df</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="o">-</span><span class="n">grades_df</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">'columns'</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="s1">'index'</span><span class="p">)</span> <span class="c1"># .add(negative) is the same as .sub(positive)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>

<span class="c1"># show how .div() works</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">div</span><span class="p">(</span><span class="n">grades_df</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">ddof</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">'columns'</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="s1">'index'</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>         exam1  exam2
Andre      9.5   -9.5
Barry      9.0   -9.0
Chris     11.0  -11.0
Dan        9.5   -9.5
Emilio    11.0  -11.0
Fred       9.5   -9.5
Greta      6.0   -6.0
Humbert    9.5   -9.5
Ivan      13.0  -13.0
James     13.5  -13.5
         exam1  exam2
Andre      1.0   -1.0
Barry      1.0   -1.0
Chris      1.0   -1.0
Dan        1.0   -1.0
Emilio     1.0   -1.0
Fred       1.0   -1.0
Greta      1.0   -1.0
Humbert    1.0   -1.0
Ivan       1.0   -1.0
James      1.0   -1.0
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Pandas-groupby()">Pandas <code>groupby()</code><a class="anchor-link" href="#Pandas-groupby()">¶</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [38]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="n">example_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">'value'</span><span class="p">:</span> <span class="n">values</span><span class="p">,</span>
    <span class="s1">'even'</span><span class="p">:</span> <span class="n">values</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">'above_three'</span><span class="p">:</span> <span class="n">values</span> <span class="o">></span> <span class="mi">3</span> 
<span class="p">},</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'a'</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">,</span> <span class="s1">'d'</span><span class="p">,</span> <span class="s1">'e'</span><span class="p">,</span> <span class="s1">'f'</span><span class="p">,</span> <span class="s1">'g'</span><span class="p">])</span>
<span class="n">example_df</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[38]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>above_three</th>
<th>even</th>
<th>value</th>
</tr>
</thead>
<tbody>
<tr>
<th>a</th>
<td>False</td>
<td>False</td>
<td>1</td>
</tr>
<tr>
<th>b</th>
<td>False</td>
<td>False</td>
<td>3</td>
</tr>
<tr>
<th>c</th>
<td>False</td>
<td>True</td>
<td>2</td>
</tr>
<tr>
<th>d</th>
<td>True</td>
<td>True</td>
<td>4</td>
</tr>
<tr>
<th>e</th>
<td>False</td>
<td>False</td>
<td>1</td>
</tr>
<tr>
<th>f</th>
<td>True</td>
<td>True</td>
<td>6</td>
</tr>
<tr>
<th>g</th>
<td>True</td>
<td>True</td>
<td>4</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [39]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># get sum of each group</span>
<span class="nb">print</span><span class="p">(</span><span class="n">example_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">'even'</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>

<span class="c1"># take a subset of the groupby object then compute sum</span>
<span class="nb">print</span><span class="p">(</span><span class="n">example_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'even'</span><span class="p">)[</span><span class="s1">'value'</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>       above_three  value
even                     
False          0.0      5
True           3.0     16
even
False     5
True     16
Name: value, dtype: int32
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Combining-Pandas-DataFrame">Combining Pandas DataFrame<a class="anchor-link" href="#Combining-Pandas-DataFrame">¶</a></h3><p><code>merge()</code> in Pandas is very similar to <code>join</code> in SQL</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [40]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">subway_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">'UNIT'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'R003'</span><span class="p">,</span> <span class="s1">'R003'</span><span class="p">,</span> <span class="s1">'R003'</span><span class="p">,</span> <span class="s1">'R003'</span><span class="p">,</span> <span class="s1">'R003'</span><span class="p">,</span> <span class="s1">'R004'</span><span class="p">,</span> <span class="s1">'R004'</span><span class="p">,</span> <span class="s1">'R004'</span><span class="p">,</span>
             <span class="s1">'R004'</span><span class="p">,</span> <span class="s1">'R004'</span><span class="p">],</span>
    <span class="s1">'DATEn'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'05-01-11'</span><span class="p">,</span> <span class="s1">'05-02-11'</span><span class="p">,</span> <span class="s1">'05-03-11'</span><span class="p">,</span> <span class="s1">'05-04-11'</span><span class="p">,</span> <span class="s1">'05-05-11'</span><span class="p">,</span>
              <span class="s1">'05-01-11'</span><span class="p">,</span> <span class="s1">'05-02-11'</span><span class="p">,</span> <span class="s1">'05-03-11'</span><span class="p">,</span> <span class="s1">'05-04-11'</span><span class="p">,</span> <span class="s1">'05-05-11'</span><span class="p">],</span>
    <span class="s1">'hour'</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="s1">'ENTRIESn'</span><span class="p">:</span> <span class="p">[</span> <span class="mi">4388333</span><span class="p">,</span>  <span class="mi">4388348</span><span class="p">,</span>  <span class="mi">4389885</span><span class="p">,</span>  <span class="mi">4391507</span><span class="p">,</span>  <span class="mi">4393043</span><span class="p">,</span> <span class="mi">14656120</span><span class="p">,</span>
                 <span class="mi">14656174</span><span class="p">,</span> <span class="mi">14660126</span><span class="p">,</span> <span class="mi">14664247</span><span class="p">,</span> <span class="mi">14668301</span><span class="p">],</span>
    <span class="s1">'EXITSn'</span><span class="p">:</span> <span class="p">[</span> <span class="mi">2911002</span><span class="p">,</span>  <span class="mi">2911036</span><span class="p">,</span>  <span class="mi">2912127</span><span class="p">,</span>  <span class="mi">2913223</span><span class="p">,</span>  <span class="mi">2914284</span><span class="p">,</span> <span class="mi">14451774</span><span class="p">,</span>
               <span class="mi">14451851</span><span class="p">,</span> <span class="mi">14454734</span><span class="p">,</span> <span class="mi">14457780</span><span class="p">,</span> <span class="mi">14460818</span><span class="p">],</span>
    <span class="s1">'latitude'</span><span class="p">:</span> <span class="p">[</span> <span class="mf">40.689945</span><span class="p">,</span>  <span class="mf">40.689945</span><span class="p">,</span>  <span class="mf">40.689945</span><span class="p">,</span>  <span class="mf">40.689945</span><span class="p">,</span>  <span class="mf">40.689945</span><span class="p">,</span>
                  <span class="mf">40.69132</span> <span class="p">,</span>  <span class="mf">40.69132</span> <span class="p">,</span>  <span class="mf">40.69132</span> <span class="p">,</span>  <span class="mf">40.69132</span> <span class="p">,</span>  <span class="mf">40.69132</span> <span class="p">],</span>
    <span class="s1">'longitude'</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mf">73.872564</span><span class="p">,</span> <span class="o">-</span><span class="mf">73.872564</span><span class="p">,</span> <span class="o">-</span><span class="mf">73.872564</span><span class="p">,</span> <span class="o">-</span><span class="mf">73.872564</span><span class="p">,</span> <span class="o">-</span><span class="mf">73.872564</span><span class="p">,</span>
                  <span class="o">-</span><span class="mf">73.867135</span><span class="p">,</span> <span class="o">-</span><span class="mf">73.867135</span><span class="p">,</span> <span class="o">-</span><span class="mf">73.867135</span><span class="p">,</span> <span class="o">-</span><span class="mf">73.867135</span><span class="p">,</span> <span class="o">-</span><span class="mf">73.867135</span><span class="p">]</span>
<span class="p">})</span>

<span class="n">weather_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">'date'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'05-01-11'</span><span class="p">,</span> <span class="s1">'05-01-11'</span><span class="p">,</span> <span class="s1">'05-02-11'</span><span class="p">,</span> <span class="s1">'05-02-11'</span><span class="p">,</span> <span class="s1">'05-03-11'</span><span class="p">,</span>
              <span class="s1">'05-03-11'</span><span class="p">,</span> <span class="s1">'05-04-11'</span><span class="p">,</span> <span class="s1">'05-04-11'</span><span class="p">,</span> <span class="s1">'05-05-11'</span><span class="p">,</span> <span class="s1">'05-05-11'</span><span class="p">],</span>
    <span class="s1">'hour'</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="s1">'latitude'</span><span class="p">:</span> <span class="p">[</span> <span class="mf">40.689945</span><span class="p">,</span>  <span class="mf">40.69132</span> <span class="p">,</span>  <span class="mf">40.689945</span><span class="p">,</span>  <span class="mf">40.69132</span> <span class="p">,</span>  <span class="mf">40.689945</span><span class="p">,</span>
                  <span class="mf">40.69132</span> <span class="p">,</span>  <span class="mf">40.689945</span><span class="p">,</span>  <span class="mf">40.69132</span> <span class="p">,</span>  <span class="mf">40.689945</span><span class="p">,</span>  <span class="mf">40.69132</span> <span class="p">],</span>
    <span class="s1">'longitude'</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mf">73.872564</span><span class="p">,</span> <span class="o">-</span><span class="mf">73.867135</span><span class="p">,</span> <span class="o">-</span><span class="mf">73.872564</span><span class="p">,</span> <span class="o">-</span><span class="mf">73.867135</span><span class="p">,</span> <span class="o">-</span><span class="mf">73.872564</span><span class="p">,</span>
                  <span class="o">-</span><span class="mf">73.867135</span><span class="p">,</span> <span class="o">-</span><span class="mf">73.872564</span><span class="p">,</span> <span class="o">-</span><span class="mf">73.867135</span><span class="p">,</span> <span class="o">-</span><span class="mf">73.872564</span><span class="p">,</span> <span class="o">-</span><span class="mf">73.867135</span><span class="p">],</span>
    <span class="s1">'pressurei'</span><span class="p">:</span> <span class="p">[</span> <span class="mf">30.24</span><span class="p">,</span>  <span class="mf">30.24</span><span class="p">,</span>  <span class="mf">30.32</span><span class="p">,</span>  <span class="mf">30.32</span><span class="p">,</span>  <span class="mf">30.14</span><span class="p">,</span>  <span class="mf">30.14</span><span class="p">,</span>  <span class="mf">29.98</span><span class="p">,</span>  <span class="mf">29.98</span><span class="p">,</span>
                   <span class="mf">30.01</span><span class="p">,</span>  <span class="mf">30.01</span><span class="p">],</span>
    <span class="s1">'fog'</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="s1">'rain'</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
    <span class="s1">'tempi'</span><span class="p">:</span> <span class="p">[</span> <span class="mf">52.</span> <span class="p">,</span>  <span class="mf">52.</span> <span class="p">,</span>  <span class="mf">48.9</span><span class="p">,</span>  <span class="mf">48.9</span><span class="p">,</span>  <span class="mf">54.</span> <span class="p">,</span>  <span class="mf">54.</span> <span class="p">,</span>  <span class="mf">57.2</span><span class="p">,</span>  <span class="mf">57.2</span><span class="p">,</span>  <span class="mf">48.9</span><span class="p">,</span>  <span class="mf">48.9</span><span class="p">],</span>
    <span class="s1">'wspdi'</span><span class="p">:</span> <span class="p">[</span>  <span class="mf">8.1</span><span class="p">,</span>   <span class="mf">8.1</span><span class="p">,</span>   <span class="mf">6.9</span><span class="p">,</span>   <span class="mf">6.9</span><span class="p">,</span>   <span class="mf">3.5</span><span class="p">,</span>   <span class="mf">3.5</span><span class="p">,</span>  <span class="mf">15.</span> <span class="p">,</span>  <span class="mf">15.</span> <span class="p">,</span>  <span class="mf">15.</span> <span class="p">,</span>  <span class="mf">15.</span> <span class="p">]</span>
<span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">subway_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">weather_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>      DATEn  ENTRIESn   EXITSn  UNIT  hour   latitude  longitude
0  05-01-11   4388333  2911002  R003     0  40.689945 -73.872564
1  05-02-11   4388348  2911036  R003     0  40.689945 -73.872564
2  05-03-11   4389885  2912127  R003     0  40.689945 -73.872564
       date  fog  hour   latitude  longitude  pressurei  rain  tempi  wspdi
0  05-01-11    0     0  40.689945 -73.872564      30.24     0   52.0    8.1
1  05-01-11    0     0  40.691320 -73.867135      30.24     0   52.0    8.1
2  05-02-11    0     0  40.689945 -73.872564      30.32     0   48.9    6.9
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [41]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># by default `on=None` uses the intersection of the columns </span>
<span class="n">subway_df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">weather_df</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">'inner'</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[41]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>DATEn</th>
<th>ENTRIESn</th>
<th>EXITSn</th>
<th>UNIT</th>
<th>hour</th>
<th>latitude</th>
<th>longitude</th>
<th>date</th>
<th>fog</th>
<th>pressurei</th>
<th>rain</th>
<th>tempi</th>
<th>wspdi</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>05-01-11</td>
<td>4388333</td>
<td>2911002</td>
<td>R003</td>
<td>0</td>
<td>40.689945</td>
<td>-73.872564</td>
<td>05-01-11</td>
<td>0</td>
<td>30.24</td>
<td>0</td>
<td>52.0</td>
<td>8.1</td>
</tr>
<tr>
<th>1</th>
<td>05-01-11</td>
<td>4388333</td>
<td>2911002</td>
<td>R003</td>
<td>0</td>
<td>40.689945</td>
<td>-73.872564</td>
<td>05-02-11</td>
<td>0</td>
<td>30.32</td>
<td>0</td>
<td>48.9</td>
<td>6.9</td>
</tr>
<tr>
<th>2</th>
<td>05-01-11</td>
<td>4388333</td>
<td>2911002</td>
<td>R003</td>
<td>0</td>
<td>40.689945</td>
<td>-73.872564</td>
<td>05-03-11</td>
<td>0</td>
<td>30.14</td>
<td>0</td>
<td>54.0</td>
<td>3.5</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [42]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># specify the left_on and right_on, meaning the columns for left table and right table seperately</span>
<span class="n">subway_df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">weather_df</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">'inner'</span><span class="p">,</span> 
                <span class="n">left_on</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'DATEn'</span><span class="p">,</span> <span class="s1">'hour'</span><span class="p">,</span> <span class="s1">'latitude'</span><span class="p">,</span> <span class="s1">'longitude'</span><span class="p">],</span>
                <span class="n">right_on</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'date'</span><span class="p">,</span> <span class="s1">'hour'</span><span class="p">,</span> <span class="s1">'latitude'</span><span class="p">,</span> <span class="s1">'longitude'</span><span class="p">])</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area"><div class="prompt output_prompt">Out[42]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>DATEn</th>
<th>ENTRIESn</th>
<th>EXITSn</th>
<th>UNIT</th>
<th>hour</th>
<th>latitude</th>
<th>longitude</th>
<th>date</th>
<th>fog</th>
<th>pressurei</th>
<th>rain</th>
<th>tempi</th>
<th>wspdi</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>05-01-11</td>
<td>4388333</td>
<td>2911002</td>
<td>R003</td>
<td>0</td>
<td>40.689945</td>
<td>-73.872564</td>
<td>05-01-11</td>
<td>0</td>
<td>30.24</td>
<td>0</td>
<td>52.0</td>
<td>8.1</td>
</tr>
<tr>
<th>1</th>
<td>05-02-11</td>
<td>4388348</td>
<td>2911036</td>
<td>R003</td>
<td>0</td>
<td>40.689945</td>
<td>-73.872564</td>
<td>05-02-11</td>
<td>0</td>
<td>30.32</td>
<td>0</td>
<td>48.9</td>
<td>6.9</td>
</tr>
<tr>
<th>2</th>
<td>05-03-11</td>
<td>4389885</td>
<td>2912127</td>
<td>R003</td>
<td>0</td>
<td>40.689945</td>
<td>-73.872564</td>
<td>05-03-11</td>
<td>0</td>
<td>30.14</td>
<td>0</td>
<td>54.0</td>
<td>3.5</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>

            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'byrony'; // required: replace example with your forum shortname

                    var disqus_identifier = 'intro-of-numpy-and-pandas-for-data-analysis';
                var disqus_url = 'https://byrony.github.io/intro-of-numpy-and-pandas-for-data-analysis.html';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">
            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="https://www.linkedin.com/in/xiang-cao"><i class="fa fa-linkedin-square fa-lg"></i> Linkedin</a></li>
                <li class="list-group-item"><a href="https://github.com/byrony"><i class="fa fa-github-square fa-lg"></i> Github</a></li>
              </ul>
            </li>





    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="https://www.linkedin.com/in/xiang-cao" target="_blank">
                Linkedin
            </a>
        </li>
        <li class="list-group-item">
            <a href="https://github.com/byrony" target="_blank">
                Github
            </a>
        </li>
      </ul>
    </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2017 Vincent
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://byrony.github.io/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://byrony.github.io/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://byrony.github.io/theme/js/respond.min.js"></script>

    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'byrony'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->

</body>
</html>